FROM volcart/vcbuilder-debian:10_v2.base
MAINTAINER Seth Parker <c.seth.parker@uky.edu>

# Install vc-deps (static)
COPY vc-deps/ /vc-deps/
RUN cd /vc-deps/ \
&& mkdir -p build \
&& cd build/ \
&& cmake -GNinja -DCMAKE_BUILD_TYPE=Release -DBUILD_WITH_QT5=ON -DVCDEPS_BUILD_ZLIB=OFF -DCMAKE_INSTALL_PREFIX=/usr -DCMAKE_POSITION_INDEPENDENT_CODE=ON .. \
&& ninja \
&& cd / \
&& rm -rf /vc-deps/

# Start an interactive shell
CMD ["/bin/bash"]
